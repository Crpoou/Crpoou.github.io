<!DOCTYPE html>
<meta charset="utf-8" />
<title>playground</title>
<link href="/icon.svg" rel="icon" />
<style>
  :root {
    line-height: 1.5;
  }
  fieldset {
    margin: 0;
    padding: 0;
    border: none;
  }
</style>
<script type="module">
  import {reactive, computed} from './reactivity.mjs'
  const state = reactive({
    form: {
      platform_source: 1,
    },
    list: []
  })
  const CNFormatter = new Intl.NumberFormat('zh-CN', {notation: 'compact'})
  const CNYFormatter = new Intl.NumberFormat('zh-CN', {
    style: 'currency',
    currency: 'CNY',
    currencySign: 'accounting',
    notation: 'compact',
  })

  const double = computed({
    get() {
      return state.count
    }
  })
  function handleSubmit() {
    this
  }
  function CreateEventOptions() {
    with (this.instance) {
      return {
        type: 'change',
        instance: this.instance,
        $handleEvent() {
          state.form.platform_source = this.form.platform_source.value
        },
        handleEvent(event) {
          event.preventDefault()
          Reflect.apply(this.$handleEvent, event.currentTarget, arguments)
        }
      }
    }
  }
</script>
<form @submit.prevent="handleSubmit">
  <fieldset @change.prevent="state.form.platform_source = this.form.platform_source.value">
    <label><input type="radio" name="platform_source" value="1" />æŠ–éŸ³</label>
    <label><input type="radio" name="platform_source" value="2" />ç«å±±</label>
  </fieldset>
  <input type="search" name="search" />
  <table border="1" cellpadding="0" rules="none">
    <thead>
      <tr>
        <th>ä¿¡æ¯</th>
        <th>ä»£è¡¨è§†é¢‘</th>
        <th>
          ç²‰ä¸æ•°
          <fieldset>
            <label><input type="radio" name="sort" value="fans_num_asc" checked />ğŸ”¼</label><label><input type="radio" name="sort" value="fans_num_desc" />ğŸ”½</label>
          </fieldset>
        </th>
        <th>
          é¢„æœŸCPM
          <fieldset>
            <label><input type="radio" name="sort" value="expect_cpm_asc" />ğŸ”¼</label><label><input type="radio" name="sort" value="expect_cpm_desc" />ğŸ”½</label>
          </fieldset>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr #for="row of state.list">
        <td><!--69å²æ‰¶å¢™å¯¹æŠ—-->{{ row.name }}</td>
        <td>
          <img hidden fetchpriority="low" decoding="async" loading="lazy" src="/articles/anchor-position/poster.avif" width="128" height="64" alt />
          <img fetchpriority="low" decoding="async" loading="lazy" :src="row.cover_url" width="128" height="64" alt />
        </td>
        <td><!--100ä¸‡-->{{ CNFormatter.format(row.fans_num) }}</td>
        <td><!--ï¿¥12.3-->{{ CNYFormatter.format(row.expect_cpm) }}äºº</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="999"></td>
      </tr>
    </tfoot>
  </table>
</form>
